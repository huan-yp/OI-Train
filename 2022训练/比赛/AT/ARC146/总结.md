## C

想的时候逐位考虑所有数，每次考虑 $2^i$ 个数，向合法的集合中加入这些数中的某些。然后就变成了同一个合法集合，复制一遍后在最高位填 $1/0$，以及选不选这个合法集合中的某些数复制。

其实这样的方式非常不优美，难以转移，因为同时要看两个条件。所以考虑每次只加入一个数，条件是所有大小为奇数的子集的异或和都不等于添加的这个数，然后奇数集合的异或和互不相等，所以每次能填添加的数的个数，就是 $2^{n}-2^{sz-1}$，$sz$ 是当前合法集合大小。

直接统计每中大小的合法集合个数，然后往后推算即可，注意去重。

**像这种具有包含关系的条件，往往可以考虑向合法解中添加一个或者若干个元素的条件**

## D

最开始想的尽量应该填 $1$，然后有形如 $p,1,q,y$ 的限制，导致了 $q$ 不能填 $1$。

于是考虑建图做，原图处理起来比较恼火，因为条件是个三选一形式的，所以，一般我们比较擅长处理二选一，因为二选一的相互推导关系比较简单。

看了提示之后发现可以把三选一的条件转化成两个二选一的条件，或者是 $0/1$ 变量。

然后有一些变量必须是 $0$，然后 $0/1$ 变量是可以相互推导的，把推导关系的图建出来直接跑就行。

最后所有的 $0$ 变量权值取最大值加和。

